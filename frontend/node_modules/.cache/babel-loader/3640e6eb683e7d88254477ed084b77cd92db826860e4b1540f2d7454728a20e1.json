{"ast":null,"code":"import{useState}from'react';import{useWorkoutsContext}from'../hooks/useWorkoutsContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const WorkoutForm=()=>{const{dispatch}=useWorkoutsContext();const[title,setTitle]=useState('');const[load,setLoad]=useState('');const[reps,setReps]=useState('');const[error,setError]=useState(null);const[emptyFields,setEmptyFields]=useState([]);const handleSubmit=async e=>{e.preventDefault();const workout={title,load,reps};const response=await fetch('/api/workouts',{method:'POST',body:JSON.stringify(workout),headers:{'Content-Type':'application/json'}});const json=await response.json();if(!response.ok){setError(json.error);setEmptyFields(json.emptyFields);}if(response.ok){setEmptyFields([]);setError(null);setTitle('');setLoad('');setReps('');dispatch({type:'CREATE_WORKOUT',payload:json});}};return/*#__PURE__*/_jsxs(\"form\",{className:\"create\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add a New Workout\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Excersize Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>setTitle(e.target.value),value:title,className:emptyFields.includes('title')?'error':''}),/*#__PURE__*/_jsx(\"label\",{children:\"Load (in kg):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:e=>setLoad(e.target.value),value:load,className:emptyFields.includes('load')?'error':''}),/*#__PURE__*/_jsx(\"label\",{children:\"Number of Reps:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:e=>setReps(e.target.value),value:reps,className:emptyFields.includes('reps')?'error':''}),/*#__PURE__*/_jsx(\"button\",{children:\"Add Workout\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error})]});};export default WorkoutForm;","map":{"version":3,"names":["useState","useWorkoutsContext","jsx","_jsx","jsxs","_jsxs","WorkoutForm","dispatch","title","setTitle","load","setLoad","reps","setReps","error","setError","emptyFields","setEmptyFields","handleSubmit","e","preventDefault","workout","response","fetch","method","body","JSON","stringify","headers","json","ok","type","payload","className","onSubmit","children","onChange","target","value","includes"],"sources":["/home/muhammad/Downloads/Mern1/frontend/src/components/WorkoutForm.js"],"sourcesContent":["import { useState } from 'react'\nimport { useWorkoutsContext } from '../hooks/useWorkoutsContext'\n\nconst WorkoutForm = () => {\n  const { dispatch } = useWorkoutsContext()\n\n  const [title, setTitle] = useState('')\n  const [load, setLoad] = useState('')\n  const [reps, setReps] = useState('')\n  const [error, setError] = useState(null)\n  const [emptyFields, setEmptyFields] = useState([])\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    const workout = {title, load, reps}\n    \n    const response = await fetch('/api/workouts', {\n      method: 'POST',\n      body: JSON.stringify(workout),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    const json = await response.json()\n    if (!response.ok) {\n      setError(json.error)\n      setEmptyFields(json.emptyFields)\n    }\n    if (response.ok) {\n      setEmptyFields([])\n      setError(null)\n      setTitle('')\n      setLoad('')\n      setReps('')\n      dispatch({type: 'CREATE_WORKOUT', payload: json})\n    }\n\n  }\n  return (\n    <form className=\"create\" onSubmit={handleSubmit}> \n      <h3>Add a New Workout</h3>\n      <label>Excersize Title:</label>\n      <input \n        type=\"text\" \n        onChange={(e) => setTitle(e.target.value)} \n        value={title}\n        className={emptyFields.includes('title') ? 'error' : ''}\n      />\n      <label>Load (in kg):</label>\n      <input \n        type=\"number\" \n        onChange={(e) => setLoad(e.target.value)} \n        value={load}\n        className={emptyFields.includes('load') ? 'error' : ''}\n      />\n      <label>Number of Reps:</label>\n      <input \n        type=\"number\" \n        onChange={(e) => setReps(e.target.value)} \n        value={reps} \n        className={emptyFields.includes('reps') ? 'error' : ''}\n      />\n      <button>Add Workout</button>\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  )\n}\nexport default WorkoutForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}